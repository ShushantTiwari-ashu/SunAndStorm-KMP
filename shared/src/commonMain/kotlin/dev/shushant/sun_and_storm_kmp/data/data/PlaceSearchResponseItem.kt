package dev.shushant.sun_and_storm_kmp.data.data


import dev.shushant.sun_and_storm_kmp.permissions.data.Address
import dev.shushant.sun_and_storm_kmp.permissions.data.Coordinates
import dev.shushant.sun_and_storm_kmp.permissions.data.LocationData
import kotlinx.serialization.SerialName
import kotlinx.serialization.Serializable

@Serializable
data class PlaceSearchResponseItem(
    @SerialName("address")
    val address: Address? = Address(),
    @SerialName("boundingbox")
    val boundingbox: List<String?>? = listOf(),
    @SerialName("class")
    val classX: String? = "", // boundary
    @SerialName("display_name")
    val displayName: String? = "", // Agra, Uttar Pradesh, India
    @SerialName("icon")
    val icon: String? = "", // https://nominatim.openstreetmap.org/ui/mapicons/poi_boundary_administrative.p.20.png
    @SerialName("importance")
    val importance: Double? = 0.0, // 0.687652390466365
    @SerialName("lat")
    val lat: String? = "", // 27.1752554
    @SerialName("licence")
    val licence: String? = "", // Data Â© OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright
    @SerialName("lon")
    val lon: String? = "", // 78.0098161
    @SerialName("osm_id")
    val osmId: Long? = 0, // 10001144
    @SerialName("osm_type")
    val osmType: String? = "", // relation
    @SerialName("place_id")
    val placeId: Long? = 0, // 298981586
    @SerialName("svg")
    val svg: String? = "", // M 77.8517818 -27.1582951 L 77.8527689 -27.1546294 77.8547 -27.15146 77.8576612 -27.1471449 77.8598928 -27.1438225 77.8617811 -27.1421422 77.8644418 -27.1413402 77.8678321 -27.1401945 77.8701925 -27.1389342 77.8739261 -27.1381322 77.8767156 -27.1381322 77.8761577 -27.1357644 77.8726816 -27.1346568 77.8704929 -27.1322507 77.8685188 -27.1273237 77.8678751 -27.125032 77.8703212 -27.1243063 77.8710079 -27.1232368 77.8699779 -27.1212124 77.8689909 -27.1200665 77.868433 -27.1185768 77.8689479 -27.1170489 77.8708362 -27.11533 77.8719949 -27.1144514 77.873969 -27.1137639 77.876029 -27.1139166 77.878561 -27.1146424 77.8804493 -27.114948 77.8818225 -27.1144514 77.8828096 -27.1130381 77.8829383 -27.1117393 77.8824663 -27.1080338 77.8848695 -27.1075754 77.8868007 -27.1075754 77.8874445 -27.106544 77.8865003 -27.1052833 77.8865003 -27.1037934 77.8878307 -27.1018833 77.8889036 -27.1000877 77.8899765 -27.0980247 77.8912639 -27.0957324 77.8931093 -27.0945099 77.8924226 -27.0918736 77.8904485 -27.0896576 77.8880882 -27.0869831 77.8852987 -27.0869831 77.8816938 -27.087518 77.8756856 -27.0835825 77.8735399 -27.0823598 77.8720808 -27.0822834 77.869935 -27.0825508 77.8685188 -27.0815956 77.8670597 -27.0792648 77.863841 -27.0726923 77.8631115 -27.0702466 77.862854 -27.0689473 77.8643989 -27.0668838 77.866373 -27.0652787 77.866888 -27.0628329 77.8723812 -27.0576353 77.8731536 -27.0559155 77.8734326 -27.0523897 77.8759539 -27.0528293 77.8869295 -27.0511763 77.8910493 -27.0507558 77.8946971 -27.049571 77.8970575 -27.0488066 77.8990745 -27.0506029 77.9007482 -27.0538517 77.9036235 -27.0568327 77.9062843 -27.0584379 77.9081296 -27.0558391 77.9124641 -27.0531637 77.9155111 -27.0526668 77.9194164 -27.0544249 77.9227638 -27.0577882 77.9281711 -27.0623743 77.9318189 -27.0632533 77.9343938 -27.0636354 77.9387283 -27.0648583 77.9405307 -27.0660812 77.9429769 -27.0686034 77.9452943 -27.0698263 77.9473972 -27.0690238 77.9501438 -27.0672659 77.9524183 -27.063215 77.9526329 -27.0606163 77.9532337 -27.0583232 77.9554224 -27.0571003 77.9608726 -27.0567181 77.9652929 -27.055304 77.9675674 -27.0551511 77.9702282 -27.0550747 77.9778242 -27.0550747 77.9812145 -27.0534695 77.9828453 -27.05217 77.9873943 -27.0510616 77.9897975 -27.0516349 77.9916858 -27.0541574 77.9920291 -27.0564505 77.9912138 -27.0588583 77.9906129 -27.0601959 77.9914712 -27.0629857 77.9930591 -27.0635208 77.9949045 -27.0619539 77.9948186 -27.0601959 77.9974794 -27.0582468 78.0007839 -27.0571767 78.0025434 -27.0564505 78.0043888 -27.0547689 78.0044746 -27.0525904 78.0045175 -27.0504501 78.0056762 -27.0477746 78.0091095 -27.0472013 78.0107832 -27.0486155 78.0115985 -27.051138 78.0121564 -27.0541956 78.0135726 -27.0567181 78.019967 -27.0568327 78.0226707 -27.0561066 78.025546 -27.0554569 78.0293655 -27.0550365 78.0348157 -27.0550365 78.036704 -27.0557626 78.0370044 -27.0579411 78.0400943 -27.0605399 78.040781 -27.0624507 78.0437421 -27.0612278 78.0466175 -27.0605017 78.0495786 -27.060043 78.0526256 -27.0598902 78.0550718 -27.0598902 78.0568313 -27.0606545 78.0587196 -27.0611896 78.0614233 -27.0602723 78.0633544 -27.0601195 78.0648994 -27.0613806 78.0649423 -27.0643615 78.065586 -27.0661959 78.0672597 -27.0680302 78.0694913 -27.0718516 78.0710792 -27.074259 78.0722379 -27.074794 78.0736541 -27.0734183 78.0753707 -27.0716223 78.0773878 -27.0699791 78.078804 -27.0678391 78.0806064 -27.0662723 78.0820226 -27.0691002 78.0836105 -27.0686416 78.0855417 -27.0676481 78.0870437 -27.067457 78.0904769 -27.0683359 78.0930948 -27.0684123 78.0951976 -27.0685652 78.0986738 -27.072463 78.1021499 -27.0734183 78.1043815 -27.0736476 78.1063127 -27.0747558 78.1064844 -27.0775835 78.1069994 -27.0795322 78.1090593 -27.0814428 78.1127929 -27.0831622 78.1185865 -27.0838882 78.1194877 -27.0851109 78.1209039 -27.0880147 78.123393 -27.0886642 78.1254959 -27.087709 78.1269979 -27.0870595 78.1292724 -27.0879765 78.1307315 -27.0893138 78.1316328 -27.0908803 78.1330061 -27.0953504 78.1368684 -27.0956178 78.1418895 -27.0955414 78.1454944 -27.0951211 78.1491422 -27.0932491 78.1528759 -27.0910713 78.1559228 -27.0893138 78.1597852 -27.0890845 78.1619739 -27.0905746 78.1632185 -27.0918354 78.1666088 -27.0925231 78.1676387 -27.0959235 78.1686258 -27.0986742 78.1715869 -27.101081 78.175621 -27.1052451 78.1838607 -27.1125797 78.1865215 -27.1133055 78.1908989 -27.113993 78.1946754 -27.1146042 78.1970787 -27.1150244 78.1995678 -27.1163996 78.2016867 -27.1170075 78.2003402 -27.1188061 78.1993939 -27.124713 78.1978147 -27.1316578 78.2097066 -27.1424562 78.2165866 -27.1495344 78.2209447 -27.1586075 78.2179005 -27.1680679 78.2103872 -27.177236 78.2065304 -27.1812387 78.1998547 -27.183615 78.1972182 -27.1873874 78.195759 -27.1872252 78.193903 -27.1868244 78.1925833 -27.1862708 78.1916928 -27.1856982 78.19121 -27.1851447 78.1868434 -27.1817948 78.183968 -27.1782062 78.1798482 -27.1770991 78.1771445 -27.1771754 78.1662655 -27.1776527 78.1664157 -27.180325 78.1668662 -27.1875402 78.1681537 -27.1928081 78.1589698 -27.1939532 78.1530475 -27.1939532 78.1488418 -27.1934188 78.1471252 -27.1869294 78.1459235 -27.1831883 78.1397437 -27.1813558 78.1351089 -27.1813558 78.1255817 -27.1815849 78.118286 -27.1809741 78.1120204 -27.1823484 78.107643 -27.186395 78.1040382 -27.192121 78.1003474 -27.1970069 78.0959701 -27.2003659 78.0901336 -27.2027323 78.0841254 -27.2028087 78.080778 -27.2018163 78.0769157 -27.2009002 78.0741691 -27.2044118 78.07065 -27.2034194 78.06962 -27.2020453 78.07065 -27.1988391 78.0680751 -27.1971596 78.0660152 -27.1972359 78.0643844 -27.1988391 78.0612945 -27.1974649 78.0585479 -27.1934951 78.055458 -27.1899069 78.0527114 -27.1851734 78.0473899 -27.1783017 78.0443 -27.1792943 78.0447291 -27.18357 78.0473041 -27.1869294 78.0475616 -27.1918156 78.0430125 -27.1936478 78.038721 -27.1957091 78.0357169 -27.1992208 78.0365752 -27.2031904 78.0401801 -27.2064728 78.0412101 -27.2109765 78.0401801 -27.215251 78.0386352 -27.2185331 78.0338286 -27.228913 78.0323695 -27.2370025 78.0323695 -27.24471 78.0302238 -27.2500515 78.0262755 -27.2544771 78.0220698 -27.2570713 78.0037021 -27.2652351 77.9954623 -27.2669136 77.9879092 -27.2677528 77.983446 -27.2669136 77.9782962 -27.2650825 77.9769229 -27.2617255 77.9782104 -27.2589788 77.985506 -27.2563083 77.9909991 -27.2520354 77.9906558 -27.2452441 77.9880809 -27.2422681 77.9793262 -27.2440232 77.9764937 -27.2453968 77.9710864 -27.2446337 77.9673957 -27.2440232 77.9618167 -27.2444811 77.9582118 -27.2489832 77.9564952 -27.2564609 77.9567527 -27.2606573 77.9582976 -27.2634803 77.9610872 -27.2680007 77.9611301 -27.2762018 77.9619024 -27.2854514 77.9615593 -27.2922782 77.9607009 -27.2947571 77.9589842 -27.2956725 77.9548643 -27.2959776 77.9516028 -27.2911722 77.9492854 -27.2817135 77.9452514 -27.2759158 77.9362392 -27.2723303 77.9293332 -27.2660137 77.9289436 -27.2613058 77.933532 -27.2561704 77.9373689 -27.2491568 77.9381092 -27.2438212 77.9362746 -27.2395098 77.9318235 -27.2353904 77.9262129 -27.2332014 77.920761 -27.234128 77.9133467 -27.2389546 77.9119706 -27.2406273 77.9081726 -27.2398261 77.9039239 -27.2395208 77.9019498 -27.2386051 77.8971004 -27.2353236 77.892723 -27.2331104 77.8905344 -27.2313933 77.8909206 -27.2283787 77.8928089 -27.2257075 77.8940534 -27.2247916 77.8961992 -27.2239521 77.898302 -27.2218532 77.8998041 -27.2195253 77.9023361 -27.2163195 77.9055547 -27.2146021 77.9053402 -27.2120451 77.9042673 -27.2097551 77.9013919 -27.2054041 77.8989887 -27.2030758 77.8963279 -27.2007094 77.8940534 -27.195251 77.888689 -27.1948311 77.8864574 -27.1936096 77.88414 -27.1922354 77.8816938 -27.1909376 77.8791618 -27.1908994 77.8775739 -27.1891434 77.8762865 -27.1882654 77.8753423 -27.1890289 77.8733253 -27.1904795 77.8710937 -27.1907085 77.8698921 -27.1896015 77.8683471 -27.1880746 77.867918 -27.1859368 77.8690767 -27.1846007 77.8706646 -27.1834555 77.8717374 -27.1823866 77.8721666 -27.1805159 77.8708362 -27.1779581 77.8690338 -27.1718878 77.8655147 -27.1696352 77.8615665 -27.1680316 77.8584766 -27.1668098 77.8550005 -27.1647862 77.8519535 -27.1616171 Z
    @SerialName("type")
    val type: String? = "" // administrative
) {
    @Serializable
    data class Address(
        @SerialName("city")
        val city: String? = "", // Agra
        @SerialName("country")
        val country: String? = "", // India
        @SerialName("country_code")
        val countryCode: String? = "", // in
        @SerialName("ISO3166-2-lvl4")
        val iSO31662Lvl4: String? = "", // IN-UP
        @SerialName("state")
        val state: String? = "", // Uttar Pradesh
        @SerialName("state_district")
        val stateDistrict: String? = "" // Agra
    )
}

fun PlaceSearchResponseItem?.toLocationData() = LocationData(
    address = Address(
        country = this?.address?.country ?: "",
        locality = this?.address?.stateDistrict ?: "",
        subLocality = this?.address?.city ?: "",
        state = this?.address?.state ?: "",
        postalCode = this?.address?.state ?: "",
    ),
    coordinates = Coordinates(
        latitude = this?.lat?.toDouble() ?: 0.0,
        longitude = this?.lon?.toDouble() ?: 0.0,
    )
)